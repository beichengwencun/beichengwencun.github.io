(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1743433c"],{"0e44":function(t,e,n){var i=n("88dd"),o=n("a013"),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("01f5")(Function.call,n("acb9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},"23d6":function(t,e,n){},"35fb":function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){return i(t)||o(t)||a()}n.d(e,"a",(function(){return s}))},3813:function(t,e,n){"use strict";var i=n("23d6"),o=n.n(i);o.a},"44de":function(t,e,n){var i=n("88dd"),o=n("0e44").set;t.exports=function(t,e,n){var a,s=e.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&i(a)&&o&&o(t,a),t}},"487c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-pull-refresh",{attrs:{"pulling-text":"不要再拉我啦,生气了哦","loosing-text":"释放本宝宝要刷新了哦","loading-text":"玩命加载中..."},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多数据啦"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("div",{staticClass:"listcontainer"},t._l(t.list,(function(e,o){return i("div",{key:o,staticClass:"listitem"},[i("div",{staticClass:"listitem-time"},[t._v(t._s(t.dayjs(e.createtime).format("YYYY-MM-DD HH:mm:ss")))]),i("div",{staticClass:"listitem-tourists"},[i("div",{staticClass:"listitem-photo"},[i("img",{attrs:{src:n("7584")("./"+e.avater)}})]),i("div",[t._v(t._s(e.touristname))])]),i("div",{staticClass:"triangleleft"}),i("div",{staticClass:"list-content",domProps:{innerHTML:t._s(e.sentence.replace(/\#[\u4E00-\u9FA5]{1,3}\;/gi,t.emotion))}}),t._l(e.reply,(function(e,o){return i("div",{key:o,staticClass:"replycontainer"},[i("div",{staticClass:"listitem-time"},[t._v(t._s(t.dayjs(e.createtime).format("YYYY-MM-DD HH:mm:ss")))]),i("div",{staticClass:"listitem-tourists"},[i("div",[t._v("jackie")]),i("div",{staticClass:"listitem-photo"},[i("img",{attrs:{src:n("89bc")}})])]),i("div",{staticClass:"arrowright"},[i("span",{staticClass:"triangleright"})]),i("div",{staticClass:"list-content",domProps:{innerHTML:t._s(e.sentence.replace(/\#[\u4E00-\u9FA5]{1,3}\;/gi,t.emotion))}})])}))],2)})),0)])],1),i("div",{staticClass:"inputcontainer"},[i("Emotion",{directives:[{name:"show",rawName:"v-show",value:t.showEmotion,expression:"showEmotion"}],on:{emotion:t.handleEmotion}}),i("van-cell-group",[i("van-field",{attrs:{center:"",clearable:"",placeholder:"请输入你想说的话"},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}},[i("div",{attrs:{slot:"left-icon"},slot:"left-icon"},[t.avater?i("img",{staticStyle:{width:"30px","border-radius":"50%"},attrs:{src:n("7584")("./"+t.avater),alt:""}}):t._e()]),i("span",{attrs:{slot:"right-icon"},on:{click:function(e){t.showEmotion=!t.showEmotion}},slot:"right-icon"},[i("img",{attrs:{src:"https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/0.gif"}})]),i("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:t.sendwords},slot:"button"},[t._v("发送")])],1)],1)],1),i("van-dialog",{attrs:{title:"选择头像","show-confirm-button":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("van-grid",{attrs:{border:!1,"column-num":3}},t._l(t.avaterList,(function(e,o){return i("van-grid-item",{key:o,class:[t.cAvater===o?"cAvater":""],on:{click:function(n){return t.selectAvater(e,o)}}},[i("van-image",{attrs:{src:n("7584")("./"+e.name),alt:""}})],1)})),1)],1)],1)},o=[],a=(n("34a3"),n("35fb")),s=(n("7364"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"emotion-box",style:{height:t.height+"px"}},t._l(t.list,(function(e,i){return n("div",{key:i,staticClass:"emotion-box-line"},t._l(e,(function(e,i){return n("emotion",{key:i,staticClass:"emotion-item",nativeOn:{click:function(n){return t.clickHandler(e)}}},[t._v(t._s(e))])})),1)})),0)])}),r=[],c=(n("d4d5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ly-emotion"},[t._t("default")],2)}),l=[],u={name:"ly-emotion",mounted:function(){var t=this,e=this.$el.innerHTML,n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],i=n.indexOf(e),o='<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(i,'.gif">');this.$nextTick((function(){t.$el.innerHTML=o}))}},f=u,p=(n("9f5a"),n("6691")),d=Object(p["a"])(f,c,l,!1,null,"3ef38134",null),m=d.exports,g={props:{height:{type:Number,default:200}},data:function(){return{list:[["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴"],["睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过"]["傲慢"],["饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂"],["疑问","嘘","晕","折磨","衰","骷髅","敲打","再见"],["擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠"],["鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀"],["西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰"],["凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀"],["足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强"],["弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你"],["NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈"],["磕头","回头","跳绳","挥手","激动","街舞","左太极","右太极"]]}},methods:{clickHandler:function(t){var e="#".concat(t,";");this.$emit("emotion",e)}},components:{Emotion:m}},h=g,v=(n("3813"),Object(p["a"])(h,s,r,!1,null,"53638d66",null)),b=v.exports,y={name:"chat",components:{Emotion:b},data:function(){return{keywords:"",list:[],page:1,pageSize:5,isLoading:!1,loading:!1,finished:!1,content:"",type:1,showEmotion:!1,show:!1,cAvater:0,avater:"",touristname:"天线宝宝",avaterList:[{name:"tianxian.jpg"},{name:"boy.png"},{name:"girl.jpg"},{name:"jie.jpg"},{name:"meng.jpg"},{name:"tiao.png"}]}},methods:{selectAvater:function(t,e){this.cAvater=e,this.avater=t.name,this.show=!1},sendwords:function(){var t=this;this.avater?this.content&&this.$http.post("/pc/addcomments",{touristname:this.touristname,type:this.type,sentence:this.content,avater:this.avater}).then((function(e){t.content="",t.onRefresh()})):this.show=!0},onRefresh:function(){var t=this;this.page=1,this.$http.get("/pc/readcomments",{params:{keywords:this.keywords,page:this.page,pageSize:this.pageSize}}).then((function(e){t.list=e.data,t.isLoading=!1,t.finished=e.count===t.list.length,t.page++}))},onLoad:function(){var t=this;this.$http.get("/pc/readcomments",{params:{keywords:this.keywords,page:this.page,pageSize:this.pageSize}}).then((function(e){t.list=[].concat(Object(a["a"])(t.list),Object(a["a"])(e.data)),t.loading=!1,t.finished=e.count===t.list.length,t.page++}))},handleEmotion:function(t){this.content+=t},emotion:function(t){var e=t.replace(/\#|\;/gi,""),n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"],i=n.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(i,'.gif" align="middle">')}}},_=y,w=(n("addc"),Object(p["a"])(_,i,o,!1,null,"0ccf9808",null));e["default"]=w.exports},"539d":function(t,e,n){var i=n("b2f5"),o=n("f01a"),a=n("b6f1"),s=n("c9ea4"),r="["+s+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),f=function(t,e,n){var o={},r=a((function(){return!!s[t]()||c[t]()!=c})),l=o[t]=r?e(p):s[t];n&&(o[n]=l),i(i.P+i.F*r,"String",o)},p=f.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},7584:function(t,e,n){var i={"./boy.png":"980c","./girl.jpg":"8889","./jie.jpg":"ba43","./me.png":"89bc","./meng.jpg":"f97f","./tianxian.jpg":"8331","./tiao.png":"7d3f"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id="7584"},7617:function(t,e,n){},"7d3f":function(t,e,n){t.exports=n.p+"img/tiao.3e4a67f9.png"},8331:function(t,e,n){t.exports=n.p+"img/tianxian.6c7b966e.jpg"},8889:function(t,e,n){t.exports=n.p+"img/girl.76ae5538.jpg"},"89bc":function(t,e,n){t.exports=n.p+"img/me.39b106a2.png"},"980c":function(t,e,n){t.exports=n.p+"img/boy.e3de3d45.png"},"9f5a":function(t,e,n){"use strict";var i=n("f7d2"),o=n.n(i);o.a},addc:function(t,e,n){"use strict";var i=n("7617"),o=n.n(i);o.a},ba43:function(t,e,n){t.exports=n.p+"img/jie.db3bc06c.jpg"},c9ea4:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},d4d5:function(t,e,n){"use strict";var i=n("3754"),o=n("03b3"),a=n("94ac"),s=n("44de"),r=n("5325"),c=n("b6f1"),l=n("a891").f,u=n("acb9").f,f=n("ddf7").f,p=n("539d").trim,d="Number",m=i[d],g=m,h=m.prototype,v=a(n("a7b8")(h))==d,b="trim"in String.prototype,y=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var n,i,o,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>o)return NaN;return parseInt(c,i)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(v?c((function(){h.valueOf.call(n)})):a(n)!=d)?s(new g(y(e)),n,m):y(e)};for(var _,w=n("dad2")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(g,_=w[x])&&!o(m,_)&&f(m,_,u(g,_));m.prototype=h,h.constructor=m,n("e5ef")(i,d,m)}},f7d2:function(t,e,n){},f97f:function(t,e,n){t.exports=n.p+"img/meng.ad6235f8.jpg"}}]);